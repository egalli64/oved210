--TRIGGER--> FUNZIONI CHE AL SUCCEDERE DI UN CERTO EVENTO, SI ESEGUONO

CREATE TABLE CODER_SALARIES(
CODER_ID NUMBER(6,0) CONSTRAINT CODER_SALARIES_FK REFERENCES CODERS(CODER_ID),
OLD_SALARY NUMBER(8,2),
NEW_SALARY NUMBER(8,2)
);

CREATE OR REPLACE TRIGGER CODER_SALARY_UPDATE
BEFORE UPDATE OF SALARY ON CODERS
FOR EACH ROW
BEGIN 
    INSERT INTO CODER_SALARIES VALUES(
    :OLD.CODER_ID, :OLD.SALARY, :NEW.SALARY
    );
END CODER_SALARY_UPDATE;
/
--TEST
UPDATE CODERS
SET SALARY = SALARY + 100;